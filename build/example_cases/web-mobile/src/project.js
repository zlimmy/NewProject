require=function t(e,n,c){function o(s,a){if(!n[s]){if(!e[s]){var r="function"==typeof require&&require;if(!a&&r)return r(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n?n:t)},u,u.exports,t,e,n,c)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<c.length;s++)o(c[s]);return o}({ActionCallback:[function(t,e,n){cc._RFpush(e,"2881e6K1edLBbgvc+6/YN7o","ActionCallback"),cc.Class({"extends":cc.Component,onLoad:function(){var t=this.getComponent("TouchEvent"),e=this.getComponent("MouseEvent"),n=t||e;n._callback=function(){this.node.runAction(cc.sequence(cc.scaleTo(.5,2,1),cc.scaleTo(.25,1,1)))}}}),cc._RFpop()},{}],AudioControl:[function(t,e,n){cc._RFpush(e,"8c95bT2M3hBPIdRDVftiUQG","AudioControl"),cc.Class({"extends":cc.Component,properties:{musicPlayer:{"default":null,type:cc.AudioSource},dingClip:{"default":null,url:cc.AudioClip},cheeringClip:{"default":null,url:cc.AudioClip}},onLoad:function(){var t=this;t.musicPlayer.play(),setTimeout(function(){cc.audioEngine.playEffect(t.dingClip,!1),setTimeout(function(){cc.audioEngine.playEffect(t.cheeringClip,!1)},2e3)},1e3)},update:function(t){}}),cc._RFpop()},{}],ButtonControl1:[function(t,e,n){cc._RFpush(e,"e6dc7dWcxxJuofXB7ergGnC","ButtonControl1"),cc.Class({"extends":cc.Component,properties:{buttonLeft:{"default":null,type:cc.Button},buttonRight:{"default":null,type:cc.Button},display:{"default":null,type:cc.Label}},onLoad:function(){},onBtnLeftClicked:function(){console.log("Left button clicked!"),this.display.string="Left button clicked!",this.display.string="hehe"},onBtnRightClicked:function(){console.log("Right button clicked!"),this.display.string="Right button clicked!"},onBtnInScrollClicked:function(){console.log("Button in Scrollview clicked!"),this.display.string="Button in ScrollView clicked!"}}),cc._RFpop()},{}],CustomEvent:[function(t,e,n){cc._RFpush(e,"5cc23aoYcxIKazRFwKWGEI7","CustomEvent"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){function t(t){this.runAction(cc.sequence(cc.scaleTo(.5,2,1),cc.scaleTo(.25,1,1)))}var e=this.getComponent("TouchEvent");e._callback=function(){this.node.emit("CUSTOM_EVENT")}.bind(this);var n=cc.find("Canvas/add"),c=cc.find("Canvas/cancel");this.node.on("CUSTOM_EVENT",t,n),this.node.on("CUSTOM_EVENT",t,c)}}),cc._RFpop()},{}],Helpers:[function(t,e,n){function c(t,e){return Math.floor(Math.random()*(e-t))+t}cc._RFpush(e,"c8640M3ozRErrV/Go3uTknt","Helpers"),e.exports={getRandomInt:c},cc._RFpop()},{}],Instruction:[function(t,e,n){cc._RFpush(e,"6a871gy73FDLap3Eje/2h6i","Instruction"),cc.Class({"extends":cc.Component,properties:{text:{"default":"",type:String,multiline:!0}},onLoad:function(){},update:function(t){}}),cc._RFpop()},{}],Item:[function(t,e,n){cc._RFpush(e,"920c8a5MahAhbCTSvmQvaB+","Item"),cc.Class({"extends":cc.Component,properties:{label:{"default":null,type:cc.Label},itemID:0},updateItem:function(t,e){this.itemID=e,this.label.string="Tmpl#"+t+" Item#"+this.itemID}}),cc._RFpop()},{}],ListItem:[function(t,e,n){cc._RFpush(e,"aa63bWNE8hBf4P4Sp0X2uT0","ListItem"),cc.Class({"extends":cc.Component,properties:{label:{"default":null,type:cc.Label},url:""},loadExample:function(){this.url&&cc.find("Menu").getComponent("Menu").loadScene(this.url)}}),cc._RFpop()},{}],ListView:[function(t,e,n){cc._RFpush(e,"e6458+hf5VAnIXocmvhggqC","ListView"),cc.Class({"extends":cc.Component,properties:{itemTemplate:{"default":null,type:cc.Node},scrollView:{"default":null,type:cc.ScrollView},spawnCount:0,totalCount:0,spacing:0,bufferZone:0},onLoad:function(){this.content=this.scrollView.content,this.items=[],this.initialize(),this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0},initialize:function(){this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing;for(var t=0;t<this.spawnCount;++t){var e=cc.instantiate(this.itemTemplate);this.content.addChild(e),e.setPosition(0,-e.height*(.5+t)-this.spacing*(t+1)),e.getComponent("Item").updateItem(t,t),this.items.push(e)}},getPositionInView:function(t){var e=t.parent.convertToWorldSpaceAR(t.position),n=this.scrollView.node.convertToNodeSpaceAR(e);return n},update:function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;for(var e=this.items,n=this.bufferZone,c=this.scrollView.content.y<this.lastContentPosY,o=(this.itemTemplate.height+this.spacing)*e.length,i=0;i<e.length;++i){var s=this.getPositionInView(e[i]);if(c){if(s.y<-n&&e[i].y+o<0){e[i].setPositionY(e[i].y+o);var a=e[i].getComponent("Item"),r=a.itemID-e.length;a.updateItem(i,r)}}else if(s.y>n&&e[i].y-o>-this.content.height){e[i].setPositionY(e[i].y-o);var a=e[i].getComponent("Item");console.log("itemID: "+a.itemID);var r=a.itemID+e.length;a.updateItem(i,r)}}this.lastContentPosY=this.scrollView.content.y}}}),cc._RFpop()},{}],Menu:[function(t,e,n){cc._RFpush(e,"04525pyYBlN26SWawaUF3dA","Menu");var c=function(t){t.stopPropagation()};cc.Class({"extends":cc.Component,properties:{text:{"default":null,type:cc.Label},readme:{"default":null,type:cc.Node},mask:{"default":null,type:cc.Node},btnInfo:{"default":null,type:cc.Button},btnBack:{"default":null,type:cc.Button}},onLoad:function(){cc.game.addPersistRootNode(this.node),this.currentSceneUrl="TestList.fire",this.loadInstruction(this.currentSceneUrl)},backToList:function(){this.showReadme(!1),this.currentSceneUrl="TestList.fire",cc.director.loadScene("TestList",this.onLoadSceneFinish.bind(this))},loadScene:function(t){this.currentSceneUrl=t,cc.director.loadScene(t,this.onLoadSceneFinish.bind(this))},onLoadSceneFinish:function(){var t=this.currentSceneUrl;this.loadInstruction(t)},loadInstruction:function(t){var e=this,n=t.replace(/\.fire$/,".md").replace("db://assets/","");cc.loader.loadTxt(cc.url.raw(n),function(t,n){return t?void(e.text.string="说明暂缺"):void(e.text.string=n)})},showReadme:function(t){this.readme.active=void 0===t?!this.readme.active:t,this.readme.active?this.mask.on("touchstart",c,this):this.mask.off("touchstart",c,this);var e=this.readme.active?"关闭说明":"查看说明";cc.find("label",this.btnInfo.node).getComponent(cc.Label).string=e}}),cc._RFpop()},{}],MonsterPrefab:[function(t,e,n){cc._RFpush(e,"8cb4dm2QEpJ7pnaS/cjrvgF","MonsterPrefab");var c=t("Helpers");cc.Class({"extends":cc.Component,properties:{spriteList:{"default":[],type:[cc.SpriteFrame]}},onLoad:function(){var t=c.getRandomInt(0,this.spriteList.length),e=this.getComponent(cc.Sprite);e.spriteFrame=this.spriteList[t]}}),cc._RFpop()},{Helpers:"Helpers"}],MouseEvent:[function(t,e,n){cc._RFpush(e,"6df0ft1jy5Jg4cQ039jt8jC","MouseEvent"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.scroll=0,this.node.opacity=50,this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){this.node.opacity=255},this),this.node.on(cc.Node.EventType.MOUSE_ENTER,function(){this.node.opacity=160},this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){this.node.opacity=50},this),this.node.on(cc.Node.EventType.MOUSE_UP,function(){this.node.opacity=50,this._callback&&this._callback()},this),this.node.on(cc.Node.EventType.MOUSE_WHEEL,function(t){this.scroll+=t.getScrollY();var e=this.node.height;this.scroll=cc.clampf(this.scroll,-2*e,.7*e),this.node.scale=1-this.scroll/e},this)}}),cc._RFpop()},{}],MyCustomComponent:[function(t,e,n){cc._RFpush(e,"6b8baEpLuxACIMNlIL2vw2W","MyCustomComponent"),cc.Class({"extends":cc.Component,properties:{power:10},getPower:function(){return this.power}}),cc._RFpop()},{}],NodeGroupControl:[function(t,e,n){cc._RFpush(e,"bd4a2+britAlof0UdMCVB8c","NodeGroupControl"),cc.Class({"extends":cc.Component,properties:{nodeList:{"default":[],type:[cc.Node]}},onLoad:function(){var t=this;this.inervalId=setInterval(function(){t.toggleNodesVisibility()},1e3)},onDestroy:function(){clearInterval(this.inervalId)},toggleNodesVisibility:function(){console.log("toggle visibility");for(var t=0;t<this.nodeList.length;++t)this.nodeList[t].active=!this.nodeList[t].active}}),cc._RFpop()},{}],NonSerializedProperties:[function(t,e,n){cc._RFpush(e,"d4114PgybhJ3L/k0N9TkCZI","NonSerializedProperties"),cc.Class({"extends":cc.Component,properties:{mySerializedText:"",myNonSerializedText:{"default":"",visible:!1},label1:{"default":null,type:cc.Label},label2:{"default":null,type:cc.Label}},onLoad:function(){this.myNonSerializedText="Can only set value in script",this.label1.string=this.mySerializedText,this.label2.string=this.myNonSerializedText}}),cc._RFpop()},{}],ParticleControl1:[function(t,e,n){cc._RFpush(e,"79ae3hiP+JAhIKehaWyiKuh","ParticleControl1"),cc.Class({"extends":cc.Component,properties:{particle:{"default":null,type:cc.Node}},onLoad:function(){var t=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,n){e===cc.KEY.space&&t.toggleParticlePlay()}},t)},toggleParticlePlay:function(){var t=this.particle.getComponent(cc.ParticleSystem);t.isFull()?t.stopSystem():t.resetSystem()}}),cc._RFpop()},{}],PopulatePrefab:[function(t,e,n){cc._RFpush(e,"75518I0ImJHXqWNNGRIOmJg","PopulatePrefab"),cc.Class({"extends":cc.Component,properties:{prefab:{"default":null,type:cc.Prefab},canvas:{"default":null,type:cc.Canvas},numberToSpawn:0,spawnInterval:0},addSpawn:function(){if(this.spawnCount>=this.numberToSpawn)return void this.clearRepeater();var t=cc.instantiate(this.prefab);this.canvas.node.addChild(t),t.position=this.getRandomPosition(),this.spawnCount++},onLoad:function(){var t=this;t.randomRange=cc.p(300,200),t.spawnCount=0,t.schedule(t.addSpawn,t.spawnInterval)},getRandomPosition:function(){return cc.p(cc.randomMinus1To1()*this.randomRange.x,cc.randomMinus1To1()*this.randomRange.y)},clearRepeater:function(){this.unschedule(this.addSpawn)}}),cc._RFpop()},{}],ProgressBar:[function(t,e,n){cc._RFpush(e,"84a43yb9OxBX6HMQxPzHQyz","ProgressBar"),cc.Class({"extends":cc.Component,properties:{horizontalBar:{type:cc.ProgressBar,"default":null},horizontalBarReverse:{type:cc.ProgressBar,"default":null},verticalBar:{type:cc.ProgressBar,"default":null},verticalBarReverse:{type:cc.ProgressBar,"default":null}},onLoad:function(){},update:function(t){this._updateProgressBar(this.horizontalBar,t),this._updateProgressBar(this.verticalBar,t),this._updateProgressBar(this.horizontalBarReverse,t),this._updateProgressBar(this.verticalBarReverse,t)},_updateProgressBar:function(t,e){var n=t.progress;1>n?n+=e:n=0,t.progress=n}}),cc._RFpop()},{}],ReferenceTypeProperties:[function(t,e,n){cc._RFpush(e,"9341f3fDdBMjJLKh4D+kJJK","ReferenceTypeProperties");var c=t("MyCustomComponent");cc.Class({"extends":cc.Component,properties:{myNode:{"default":null,type:cc.Node},mySprite:{"default":null,type:cc.Sprite},myLabel:{"default":null,type:cc.Label},myComponent:{"default":null,type:c},mySpriteFrame:{"default":null,type:cc.SpriteFrame},myAtlas:{"default":null,type:cc.SpriteAtlas},myPrefab:{"default":null,type:cc.Prefab},myAudioClip:{"default":null,url:cc.AudioClip}},onLoad:function(){this.myLabel.string=this.myComponent.getPower().toString()},update:function(t){}}),cc._RFpop()},{MyCustomComponent:"MyCustomComponent"}],SceneList:[function(t,e,n){cc._RFpush(e,"473b8wxs55OsJvoxVdYCzTF","SceneList"),cc.Class({"extends":cc.Component,properties:{itemPrefab:{"default":null,type:cc.Prefab}},createItem:function(t,e,n,c){var o=cc.instantiate(this.itemPrefab),i=o.getComponent("ListItem"),s=i.label;return s.string=n,c&&(i.url=c),o.x=t,o.y=e,this.node.addChild(o),o},onLoad:function(){var t=cc.game._sceneInfos,e={};if(t){var n,c;for(n=0;n<t.length;++n){var o=t[n].url,i=cc.path.dirname(o).replace("db://assets/cases/",""),s=cc.path.basename(o,".fire");"TestList"!==s&&(i||(i="_root"),e[i]||(e[i]={}),e[i][s]=o)}var a=Object.keys(e);a.sort();var r=-50;for(n=0;n<a.length;++n){var i=a[n],l=this.createItem(100,r,i);l.getComponent(cc.Widget).left=60,l.getComponent(cc.Sprite).enabled=!1,r-=50;var u=Object.keys(e[i]);for(u.sort(),c=0;c<u.length;++c){var p=u[c],o=e[i][p],h=this.createItem(200,r,p,o);h.getComponent(cc.Widget).left=120,h.color=cc.Color.WHITE,r-=50}}this.node.height=Math.abs(r)+30}}}),cc._RFpop()},{}],SheepAnimation1:[function(t,e,n){cc._RFpush(e,"ae6fcR8cuFGRYHW525VJD/k","SheepAnimation1"),cc.Class({"extends":cc.Component,properties:{sheepAnim:{"default":null,type:cc.Animation}},onLoad:function(){var t=this.sheepAnim;setTimeout(function(){t.play("sheep_jump")},2e3)},update:function(t){}}),cc._RFpop()},{}],SimpleAction:[function(t,e,n){cc._RFpush(e,"b6067a1+J5FW4G30nmVLU/d","SimpleAction"),cc.Class({"extends":cc.Component,properties:{jumper:{"default":null,type:cc.Node}},onLoad:function(){this.squashAction=cc.scaleTo(.2,1,.6),this.stretchAction=cc.scaleTo(.2,1,1.2),this.scaleBackAction=cc.scaleTo(.1,1,1),this.moveUpAction=cc.moveBy(1,cc.p(0,200)).easing(cc.easeCubicActionOut()),this.moveDownAction=cc.moveBy(1,cc.p(0,-200)).easing(cc.easeCubicActionIn());var t=cc.sequence(this.squashAction,this.stretchAction,this.moveUpAction,this.scaleBackAction,this.moveDownAction,this.squashAction,this.scaleBackAction);this.jumper.runAction(t)},update:function(t){}}),cc._RFpop()},{}],SimpleKeyboardMovement:[function(t,e,n){cc._RFpush(e,"c3f971iyCdIh6xdaO49XP0F","SimpleKeyboardMovement"),cc.Class({"extends":cc.Component,properties:{sheep:{"default":null,type:cc.Node}},onLoad:function(){var t=this;t.turnRight(),cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,n){switch(e){case cc.KEY.a:case cc.KEY.left:console.log("turn left"),t.turnLeft();break;case cc.KEY.d:case cc.KEY.right:console.log("turn right"),t.turnRight()}}},t.node)},update:function(t){this.sheep.x+=this.speed*t},turnLeft:function(){this.speed=-100,this.sheep.scaleX=1},turnRight:function(){this.speed=100,this.sheep.scaleX=-1}}),cc._RFpop()},{}],SpriteFollowTouch:[function(t,e,n){cc._RFpush(e,"90aed86Xu1DZoaevFdcthY3","SpriteFollowTouch"),cc.Class({"extends":cc.Component,properties:{touchLocationDisplay:{"default":null,type:cc.Label},follower:{"default":null,type:cc.Node},followSpeed:0},onLoad:function(){var t=this;t.moveToPos=cc.p(0,0),t.isMoving=!1,cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,n){var c=e.getLocation();return t.isMoving=!0,t.moveToPos=t.follower.parent.convertToNodeSpaceAR(c),!0},onTouchMoved:function(e,n){var c=e.getLocation();t.touchLocationDisplay.string="touch ("+Math.floor(c.x)+", "+Math.floor(c.y)+")",t.moveToPos=t.follower.parent.convertToNodeSpaceAR(c)},onTouchEnded:function(e,n){t.isMoving=!1}},t.node)},update:function(t){if(this.isMoving){var e=this.follower.position,n=cc.pNormalize(cc.pSub(this.moveToPos,e)),c=cc.pAdd(e,cc.pMult(n,this.followSpeed*t));this.follower.setPosition(c)}}}),cc._RFpop()},{}],TouchDragger:[function(t,e,n){cc._RFpush(e,"95021X5KjxP369OONe316sH","TouchDragger");var c=cc.Class({"extends":cc.Component,properties:{propagate:{"default":!1}},onLoad:function(){this.node.opacity=160,this.node.on(cc.Node.EventType.TOUCH_START,function(){this.opacity=255},this.node),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.opacity=255;var e=t.touch.getDelta();this.x+=e.x,this.y+=e.y,this.getComponent(c).propagate&&t.stopPropagation()},this.node),this.node.on(cc.Node.EventType.TOUCH_END,function(){this.opacity=160},this.node)}});cc._RFpop()},{}],TouchEvent:[function(t,e,n){cc._RFpush(e,"a14bfaD+gRJKrTVjKwitc53","TouchEvent"),cc.Class({"extends":cc.Component,properties:{},_callback:null,onLoad:function(){this.node.opacity=100,this.node.on(cc.Node.EventType.TOUCH_START,function(){this.node.opacity=255},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){this.node.opacity=100,this._callback&&this._callback()},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){this.node.opacity=100},this)}}),cc._RFpop()},{}],ValueTypeProperties:[function(t,e,n){cc._RFpush(e,"d9bf6bFb+tF779stLEmjzTV","ValueTypeProperties"),cc.Class({"extends":cc.Component,properties:{myNumber:{"default":0,type:Number},myString:{"default":"default text",type:String},myVec2:{"default":cc.Vec2.ZERO,type:cc.Vec2},myColor:{"default":cc.Color.WHITE,type:cc.Color},myOtherNumber:0,myOtherString:"no type definition",myOtherVec2:cc.Vec2.ONE,myOtherColor:cc.Color.BLACK},onLoad:function(){},update:function(t){}}),cc._RFpop()},{}],scheduleCallbacks:[function(t,e,n){cc._RFpush(e,"930deImxoZIkp6ugjMU5ULW","scheduleCallbacks"),cc.Class({"extends":cc.Component,properties:{time:{"default":5}},_callback:function(){this.node.runAction(this.seq),this.counting=this.repeat?!0:!1,this.time=5,this.counter.string=this.time.toFixed(2)+" s"},onLoad:function(){var t=cc.scaleTo(.2,1,.6),e=cc.scaleTo(.2,1,1.2),n=cc.scaleTo(.1,1,1),c=cc.moveBy(1,cc.p(0,100)).easing(cc.easeCubicActionOut()),o=cc.moveBy(1,cc.p(0,-100)).easing(cc.easeCubicActionIn());this.seq=cc.sequence(t,e,c,n,o,t,n),this.counter=cc.find("Canvas/count_label").getComponent(cc.Label),this.counter.string=this.time.toFixed(2)+" s",this.counting=!1,this.repeat=!1},update:function(t){this.counting&&(this.time-=t,this.counter.string=this.time.toFixed(2)+" s")},stopCounting:function(){this.unschedule(this._callback),this.counting=!1,this.counter.string="5.00 s",this.time=5},repeatSchedule:function(){this.stopCounting(),this.schedule(this._callback,5),this.repeat=!0,this.counting=!0},oneSchedule:function(){this.stopCounting(),this.scheduleOnce(this._callback,5),this.repeat=!1,this.counting=!0},cancelSchedules:function(){this.repeat=!1,this.stopCounting()}}),cc._RFpop()},{}]},{},["Menu","ActionCallback","SceneList","CustomEvent","Instruction","MyCustomComponent","MouseEvent","PopulatePrefab","ParticleControl1","ProgressBar","AudioControl","MonsterPrefab","SpriteFollowTouch","Item","scheduleCallbacks","ReferenceTypeProperties","TouchDragger","TouchEvent","ListItem","SheepAnimation1","SimpleAction","NodeGroupControl","SimpleKeyboardMovement","Helpers","NonSerializedProperties","ValueTypeProperties","ListView","ButtonControl1"]);
//# sourceMappingURL=project.js.map